<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.1 Core AIS Datasets and Assumptions | Global Fishing Watch Data Standard Operating Procedure</title>
  <meta name="description" content="Standard operating procedures for emLab projects using Global Fishing Watch data" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="4.1 Core AIS Datasets and Assumptions | Global Fishing Watch Data Standard Operating Procedure" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://emlab-ucsb.github.io/gfw-SOP/" />
  
  <meta property="og:description" content="Standard operating procedures for emLab projects using Global Fishing Watch data" />
  <meta name="github-repo" content="emlab-ucsb/gfw-SOP" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.1 Core AIS Datasets and Assumptions | Global Fishing Watch Data Standard Operating Procedure" />
  
  <meta name="twitter:description" content="Standard operating procedures for emLab projects using Global Fishing Watch data" />
  

<meta name="author" content="" />


<meta name="date" content="2020-12-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
<link rel="prev" href="4-data.html"/>
<link rel="next" href="4-2-best-tables.html"/>
<script src="assets/jquery-2.2.3/jquery.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="assets/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.0/anchor-sections.js"></script>



</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a></li>
<li class="chapter" data-level="2" data-path="2-basics.html"><a href="2-basics.html"><i class="fa fa-check"></i><b>2</b> Global Fishing Watch Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="2-1-types-of-data.html"><a href="2-1-types-of-data.html"><i class="fa fa-check"></i><b>2.1</b> Types of Data</a></li>
<li class="chapter" data-level="2.2" data-path="2-2-available-data.html"><a href="2-2-available-data.html"><i class="fa fa-check"></i><b>2.2</b> Available Data</a></li>
<li class="chapter" data-level="2.3" data-path="2-3-data-caution.html"><a href="2-3-data-caution.html"><i class="fa fa-check"></i><b>2.3</b> Data Caution</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-setup-and-access.html"><a href="3-setup-and-access.html"><i class="fa fa-check"></i><b>3</b> Setup and Access</a><ul>
<li class="chapter" data-level="3.1" data-path="3-1-bigquery-setup.html"><a href="3-1-bigquery-setup.html"><i class="fa fa-check"></i><b>3.1</b> BigQuery Setup</a></li>
<li class="chapter" data-level="3.2" data-path="3-2-billing.html"><a href="3-2-billing.html"><i class="fa fa-check"></i><b>3.2</b> Billing</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-data.html"><a href="4-data.html"><i class="fa fa-check"></i><b>4</b> Data</a><ul>
<li class="chapter" data-level="4.1" data-path="4-1-core-ais-datasets-and-assumptions.html"><a href="4-1-core-ais-datasets-and-assumptions.html"><i class="fa fa-check"></i><b>4.1</b> Core AIS Datasets and Assumptions</a></li>
<li class="chapter" data-level="4.2" data-path="4-2-best-tables.html"><a href="4-2-best-tables.html"><i class="fa fa-check"></i><b>4.2</b> Best Tables</a></li>
<li class="chapter" data-level="4.3" data-path="4-3-vms-datasets.html"><a href="4-3-vms-datasets.html"><i class="fa fa-check"></i><b>4.3</b> VMS Datasets</a></li>
<li class="chapter" data-level="4.4" data-path="4-4-dark-targets-tables.html"><a href="4-4-dark-targets-tables.html"><i class="fa fa-check"></i><b>4.4</b> Dark Targets Tables</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-workflow.html"><a href="5-workflow.html"><i class="fa fa-check"></i><b>5</b> Workflow</a></li>
<li class="chapter" data-level="6" data-path="6-additional-resources.html"><a href="6-additional-resources.html"><i class="fa fa-check"></i><b>6</b> Additional Resources</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Global Fishing Watch Data Standard Operating Procedure</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="core-ais-datasets-and-assumptions" class="section level2">
<h2><span class="header-section-number">4.1</span> Core AIS Datasets and Assumptions</h2>
<p>The <code>world-fishing-827</code> project has four main AIS datasets for general analysis: <code>pipe_production_vYYYYMMDD</code>, <code>gfw_research</code>, <code>anchorages</code>, and <code>vessel_database</code>.</p>
<p><code>pipe_production_vYYYYMMDD</code></p>
<p>This is GFW’s core internal dataset and is the output of the pipeline, which is a process that automates parsing, cleaning, augmenting, and publishing the raw AIS data. In most cases, queries should use the research tables in <code>gfw_research</code> not the pipeline tables. However, the following are some tables that are only found in the pipeline which may be useful to emLab researchers:</p>
<ul>
<li><code>port_events_YYYYMMDD</code>
<ul>
<li>List of port events by vessel id (not ssvid)<br />
</li>
<li>Important fields: vessel_id, timestamp, anchorage_id<br />
</li>
<li>Assumptions: Port events are individual events composed of a port entry/port exit pair. A port entry occurs when the vessel comes within 3 km of an anchorage point and the port exit occurs when the vessel is more than 4 km from an anchorage point<br />
</li>
<li>The port events table is organized daily. To select all events from a year (for example 2020) use <code>world-fishing-827.pipe_production_vYYYYMMDD.port_events_2020*</code>, or select a single day (for example 1.1.20) to reduce query size and cost using <code>world-fishing-827.pipe_production_vYYYYMMDD.port_events_20200101</code></li>
</ul></li>
<li><code>port_visits_YYYYMMDD</code>
<ul>
<li>List of port visits by vessel id (not ssvid)<br />
</li>
<li>Important fields: vessel_id, start_anchorage_id, end_anchorage_id, start_timestamp, end_timestamp<br />
</li>
<li>Assumptions: port visits must include a port entry, a port stop or a port gap, and a port exit. Port stops begin when the vessel speed is &lt; 0.2 knots and ends when the vessel speed is &gt; 0.5 knots. Port gaps are defined as gaps in AIS transmission for more than 4 hours<br />
</li>
<li>The port visits table is also organized daily and can be subsetted and queried in the same way as the port events table</li>
</ul></li>
<li><code>published_events_encounters</code>
<ul>
<li>List of encounter events; each encounter event is listed twice with the event_id field ending in .1 or .2 to distinguish between the first and second vessel involved<br />
</li>
<li>Important fields: event_id, vessel_id, event_start, event_end<br />
</li>
<li>Assumptions: 2 vessels within 500 meters of each other, traveling &lt; 2 knots, minimum duration of 2 hours, and at least 10 km from a coastal anchorage</li>
</ul></li>
<li><code>spatial_measures_YYYYMMDD</code>
<ul>
<li>Spatial information (for EEZs, RMFOs etc.) by gridded longitude, latitude<br />
</li>
<li>Important fields: gridcode, regions record<br />
</li>
<li>Assumptions: Gridded longitude, latitude (WGS84) at 0.01 resolution</li>
</ul></li>
<li><code>voyages</code>
<ul>
<li>List of voyages by ssvid<br />
</li>
<li>Important fields: ssvid, vessel_id, trip_id, trip_start_anchorage_id, trip_end_anchorage_id<br />
</li>
<li>Assumptions: voyages are a port exit/port entry pair, following a vessel from when it leaves a port to the next time it enters a port</li>
</ul></li>
</ul>
<p><code>gfw_research</code></p>
<p>The second dataset <code>gfw_research</code>, is most commonly used by GFW research partners. These tables are versions of the pipeline tables that have been altered to make them more suitable and cost effective for analysis. The following are some tables that may be most relevant to emLab researchers:</p>
<ul>
<li><code>eez_info</code>
<ul>
<li>List of Exclusive Economic Zones (EEZ), can be used to add country names or ISO3 codes to the numeric EEZ id<br />
</li>
<li>Important fields: eez_id, territory1, territory1_iso3, sovereign1, sovereign1_iso3</li>
</ul></li>
<li><code>fishing_vessels_ssvid_vYYYYMMDD</code>
<ul>
<li>Current best list of active fishing vessels by ssvid by year<br />
</li>
<li>Important fields: ssvid, year, best_flag best_vessel_class (gear type)<br />
</li>
<li>Assumptions: MMSI is on_fishing_list_best, MMSI is not likely fishing gear based on shipname, MMSI is not offsetting its position, MMI did not broadcast 5 or more different shipnames in a year, MMSI is spoofed no more than 24 hours in a year, the MMSI was active enough for the nerual net to infer a vessel class, and the MMSI is active for at least 5 days and has at least 24 hours of fishing activity in a year</li>
</ul></li>
<li><code>loitering_events_2knots_vYYYYMMDD</code>
<ul>
<li>List of loitering activities by vessel. Queries will likely want to further restrict results to vessels of a specific type, a minimum distance from shore, and a minimum event duration<br />
</li>
<li>Important fields: ssvid, loitering_start_timestamp, loitering_end_timestamp, loitering_hours, avg_distance_from_shore_nm, start_lon, start_lat, end_lon, end_lat<br />
</li>
<li>Assumptions: vessels are moving at &lt; 2 knots (includes all vessel types)</li>
</ul></li>
<li><code>pipe_vYYYYMMDD_fishing</code>
<ul>
<li>Table of fishing activity, best table to use to find active fishing positions<br />
</li>
<li>Important fields: seg_id, ssvid, timestamp, lat, lon, nnet_score2, regions records<br />
</li>
<li>Assumptions: Vessels are listed on at least one of the fishing lists in the <code>vi_ssvid_byyyear_vYYYYMMDD</code> table<br />
</li>
<li>This is a partitioned table. See Section 4.2.4 for more infomraiton about subsetting data in partitioned tables</li>
</ul></li>
<li><code>pipe_vYYYYMMDD_segs</code>
<ul>
<li>Used to identify good segements for inclusion in analyses<br />
</li>
<li>Important fields: good_seg, positions, overlapping_and_short<br />
</li>
<li>Assumptions: To be labeled as a <code>good_seg</code>, there are more than 5 positions, the vessel moves at least ~100 meters with an average speed &gt; 0, and the longitude is not between -0.109225 and 0.109225</li>
</ul></li>
<li><code>vi_ssvid_byyear_vYYYYMMDD</code>
<ul>
<li>Summary of annual vessel activity and identity information by ssvid. This table is best used to summarize vessel activity (like fishing hours) by ssvid if specific position data (lat/lon) are not important. Queries should use good segments and the neural net score from the <code>pipe_vYYYYMMDD_fishing</code> table if position data are important<br />
</li>
<li>Important fields: ssvid, year, activity records (summary of the amount and location of the vessel’s activity), best records (best vessel characteristics)</li>
</ul></li>
</ul>
<p><code>anchorages</code></p>
<p>The GFW data uses anchorages which are different from ports. The anchorage datset gridded the globe at approximately 0.5 km cells and identified grid cells where at least 20 individual vessels remained stationary from 2012-2019. Each location was assigned a unique anchorage id. Generally, there are many anchorages within a single port. More information about how anchorages are assigned can be found on the GFW <a href="https://globalfishingwatch.org/datasets-and-code/anchorages/">website</a>. The following table is likely the most useful for emLab researchers:</p>
<ul>
<li><code>named_anchorages_vYYYYMMDD</code>
<ul>
<li>List of all named anchorages in the GFW data<br />
</li>
<li>Important fields: s2id (anchorage id), iso3, lat, lon<br />
</li>
<li>Assumptions: at least 20 vessels remained stationary between 2012 and 2019</li>
</ul></li>
</ul>
<p><code>vessel_database</code></p>
<p>The vessel database is a collection of tables tracking vessel registry information. This database is particularly useful for querying lists of non-fishing vessels, such as carriers. For lists of fishing vessels, it’s better to use <code>gfw_research.fishing_vessels_ssvid_vYYYYMMDD</code>. The following table may be the most useful to emLab researchers:</p>
<ul>
<li><code>all_vessels_vYYYYMMDD</code>
<ul>
<li>List of all vessels in the GFW database for all years<br />
</li>
<li>Important fields: identity records, feature records, is_carieer, registry records (especially registry.confidence)</li>
</ul></li>
</ul>
<p>The vesssel database is not comprehensive adn is only as good as the AIS and registry data. The dataset may contain typos or outdated records and caution should be used in analysis.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="4-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="4-2-best-tables.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
},
"search": true
});
});
</script>

</body>

</html>
